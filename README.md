Тестовое Задание:
Составить частотный словарь для заданного текстового файла.

Программа должна быть реализована в виде консольного приложения. Первым параметром задается имя входного файла. Вторым параметром задается имя файла с результатом.
Кодировкой исходного и результирующего файлов считается Windows-1251.
Слова разделяются пробелами и символами перевода строки. Слова сравниваются без учета регистра.
Формат результирующего файла – «{0},{1}\n» где {0} – слово, а {1} – количество его вхождений в исходный файл.
Результирующий файл должен быть отсортирован по убыванию встречаемости.
Приложение должно обладать следующими качествами:
1) Производительностью, разумной экономностью ресурсов CPU и Memory.
2) Скалируемостью (от scalability) на многоядерных/многопроцессорных системах.
3) Использовать классы стандартной библиотеки.Net 3.5SP1 или 4.0.
4) Ожидать неправильного ввода от пользователя.
5) Иметь модульную декомпозицию и содержать юнит тесты.
6) Обладать архитектурой удобной для дальнейшего расширения функциональности.
7) Иметь описание архитектуры в любом удобном виде.

Архитектура:
Для удовлетворения 1 и 2 требований был выбран дизайн системы основанный на разбиении исходного файла на chunk'и, паралельной независимой друг-от-друга обработки каждого chunk'а и в конечном итоге merge результатов обработки индивидуальных chunk'ов в один общий словарь. При данном подходе мы добиваемся хорошего уровня паралеллизации (Parallel.For) без необходимости использования механизмов синхронизации. Для чтения из файла используется API MemoryMappedFile.
Алгоритм составления частотного словаря файла имеет модульную структуру и представлен следующими основными интерфейсами.
- IWordFrequencyCounter это основной интерфейс алгоритма, который позволяет вызывающему коду абстрагироваться от деталей имплементации алгоритма, в данном случае от алгоритма разбиение на chunk'и, вычисление частотных характеристик для chunk'а и merge результатов.
- IChunkFileSplitter - интерфейс алгоритма разбиения исходного файла на chunk'и. Вместе с IChunk предоставляют возможность скрыть детали имплементации чтения из файла и предоставления удобного интерфейса работы с chunk'ами файла.
- IChunkProcessor - интерфейс составления частотного словаря для chunk'а
- IChunkResultMerger - интерфейс алгоритма склейки частотных словарей chunk'ов.